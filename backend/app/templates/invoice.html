<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>Hóa đơn mua hàng</title>
    <style>
      body {
        background-color: #f6f6f6;
        font-family: sans-serif;
        -webkit-font-smoothing: antialiased;
        font-size: 14px;
        line-height: 1.4;
        margin: 0;
        padding: 0;
        -ms-text-size-adjust: 100%;
        -webkit-text-size-adjust: 100%;
      }
      table {
        border-collapse: separate;
        mso-table-lspace: 0pt;
        mso-table-rspace: 0pt;
        width: 100%;
      }
      table td {
        font-family: sans-serif;
        font-size: 14px;
        vertical-align: top;
      }

      .body {
        background-color: #f6f6f6;
        width: 100%;
      }
      .container {
        display: block;
        margin: 0 auto !important;
        max-width: 600px;
        padding: 10px;
        width: 600px;
      }
      .content {
        box-sizing: border-box;
        display: block;
        margin: 0 auto;
        max-width: 600px;
        padding: 10px;
      }

      .main {
        background: #ffffff;
        border-radius: 8px;
        width: 100%;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
        overflow: hidden;
      }
      .wrapper {
        box-sizing: border-box;
        padding: 20px;
      }
      .content-block {
        padding-bottom: 10px;
        padding-top: 10px;
      }

      .header {
        background-color: #2c3e50;
        padding: 20px;
        text-align: center;
        color: white;
      }
      .header h1 {
        margin: 0;
        font-size: 24px;
        font-weight: bold;
      }

      h2 {
        font-size: 18px;
        font-weight: bold;
        margin: 0 0 10px 0;
        color: #333;
      }
      p,
      ul,
      ol {
        margin: 0;
        margin-bottom: 15px;
        color: #555;
      }
      .align-right {
        text-align: right;
      }
      .align-center {
        text-align: center;
      }

      .order-badge {
        background-color: #e8f5e9;
        border: 1px solid #c8e6c9;
        color: #2e7d32;
        padding: 8px 12px;
        border-radius: 4px;
        display: inline-block;
        font-weight: bold;
        margin-bottom: 20px;
      }

      .invoice-items {
        width: 100%;
        margin-top: 10px;
        border-collapse: collapse;
      }
      .invoice-items td {
        border-bottom: 1px solid #eee;
        padding: 12px 5px;
      }
      .invoice-items th {
        background-color: #f8f9fa;
        padding: 12px 5px;
        text-align: left;
        font-weight: bold;
        color: #555;
        border-bottom: 2px solid #eee;
      }
      .invoice-items .total-row td {
        border-bottom: none;
        font-weight: bold;
        color: #333;
        padding-top: 20px;
        font-size: 16px;
      }
      .invoice-items .subtotal-row td {
        border-bottom: none;
        padding: 5px 5px;
        color: #777;
        font-size: 13px;
      }

      .footer {
        clear: both;
        margin-top: 10px;
        text-align: center;
        width: 100%;
      }
      .footer td,
      .footer p,
      .footer span,
      .footer a {
        color: #999999;
        font-size: 12px;
        text-align: center;
      }

      .btn {
        display: inline-block;
        background-color: #3498db;
        color: #ffffff;
        text-decoration: none;
        padding: 10px 20px;
        border-radius: 5px;
        font-weight: bold;
        margin-top: 20px;
      }

      @media only screen and (max-width: 620px) {
        .invoice-items .qty-col {
          width: 40px;
        }
        .container {
          padding: 0 !important;
          width: 100% !important;
        }
      }
    </style>
  </head>
  <body>
    <table
      role="presentation"
      border="0"
      cellpadding="0"
      cellspacing="0"
      class="body"
    >
      <tr>
        <td>&nbsp;</td>
        <td class="container">
          <div class="content">
            <table role="presentation" class="main">
              <tr>
                <td class="header">
                  <h1>{{ app_name }}</h1>
                </td>
              </tr>

              <tr>
                <td class="wrapper">
                  <table
                    role="presentation"
                    border="0"
                    cellpadding="0"
                    cellspacing="0"
                  >
                    <tr>
                      <td>
                        <h2>Cảm ơn {{ full_name }}!</h2>
                        <p>Đơn hàng của bạn đã được tiếp nhận thành công.</p>

                        <div class="align-center">
                          <span class="order-badge"
                            >Đơn hàng #{{ order_number }}</span
                          >
                        </div>

                        <p
                          style="
                            font-size: 13px;
                            color: #888;
                            margin-bottom: 20px;
                          "
                        >
                          Ngày đặt: {{ created_at }}<br />
                          Phương thức thanh toán: {{ payment_method }}
                        </p>

                        <table
                          class="invoice-items"
                          cellpadding="0"
                          cellspacing="0"
                          style="width: 100%; border-collapse: collapse"
                        >
                          <thead>
                            <tr>
                              <th
                                align="left"
                                width="65%"
                                style="
                                  background-color: #f8f9fa;
                                  padding: 12px 10px;
                                  border-bottom: 2px solid #eee;
                                  font-weight: bold;
                                  color: #555;
                                "
                              >
                                Sản phẩm
                              </th>

                              <th
                                align="center"
                                width="10%"
                                style="
                                  background-color: #f8f9fa;
                                  padding: 12px 10px;
                                  border-bottom: 2px solid #eee;
                                  font-weight: bold;
                                  color: #555;
                                  text-align: center;
                                "
                              >
                                SL
                              </th>

                              <th
                                align="right"
                                width="25%"
                                style="
                                  background-color: #f8f9fa;
                                  padding: 12px 10px;
                                  border-bottom: 2px solid #eee;
                                  font-weight: bold;
                                  color: #555;
                                  text-align: right;
                                "
                              >
                                Thành tiền
                              </th>
                            </tr>
                          </thead>
                          <tbody>
                            {% for item in items %}
                            <tr>
                              <td
                                align="left"
                                style="
                                  padding: 12px 10px;
                                  border-bottom: 1px solid #eee;
                                  vertical-align: top;
                                "
                              >
                                <span
                                  style="
                                    display: block;
                                    color: #333;
                                    font-weight: 500;
                                    font-size: 14px;
                                  "
                                >
                                  {{ item.name }}
                                </span>
                                {% if item.variant %}
                                <span
                                  style="
                                    display: block;
                                    font-size: 12px;
                                    color: #888;
                                    margin-top: 4px;
                                  "
                                >
                                  Phân loại: {{ item.variant }}
                                </span>
                                {% endif %}
                              </td>

                              <td
                                align="center"
                                style="
                                  padding: 12px 10px;
                                  border-bottom: 1px solid #eee;
                                  vertical-align: top;
                                  text-align: center;
                                  color: #333;
                                "
                              >
                                {{ item.quantity }}
                              </td>

                              <td
                                align="right"
                                style="
                                  padding: 12px 10px;
                                  border-bottom: 1px solid #eee;
                                  vertical-align: top;
                                  text-align: right;
                                  font-weight: bold;
                                  color: #333;
                                  white-space: nowrap;
                                "
                              >
                                {{ "{:,.0f}".format(item.price * item.quantity)
                                }} đ
                              </td>
                            </tr>
                            {% endfor %}

                            <tr>
                              <td
                                colspan="3"
                                style="
                                  padding-top: 10px;
                                  border-top: 2px solid #eee;
                                "
                              ></td>
                            </tr>

                            <tr>
                              <td
                                colspan="2"
                                align="right"
                                style="padding: 5px 10px; color: #777"
                              >
                                Tạm tính:
                              </td>
                              <td
                                align="right"
                                style="
                                  padding: 5px 10px;
                                  color: #333;
                                  font-weight: bold;
                                "
                              >
                                {{ "{:,.0f}".format(subtotal) }} đ
                              </td>
                            </tr>
                            <tr>
                              <td
                                colspan="2"
                                align="right"
                                style="padding: 5px 10px; color: #777"
                              >
                                Phí vận chuyển:
                              </td>
                              <td
                                align="right"
                                style="
                                  padding: 5px 10px;
                                  color: #333;
                                  font-weight: bold;
                                "
                              >
                                {{ "{:,.0f}".format(shipping_fee) }} đ
                              </td>
                            </tr>

                            {% if discount > 0 %}
                            <tr>
                              <td
                                colspan="2"
                                align="right"
                                style="padding: 5px 10px; color: #27ae60"
                              >
                                Giảm giá:
                              </td>
                              <td
                                align="right"
                                style="
                                  padding: 5px 10px;
                                  color: #27ae60;
                                  font-weight: bold;
                                "
                              >
                                -{{ "{:,.0f}".format(discount) }} đ
                              </td>
                            </tr>
                            {% endif %}

                            <tr>
                              <td
                                colspan="2"
                                align="right"
                                style="
                                  padding: 15px 10px;
                                  font-size: 16px;
                                  font-weight: bold;
                                  color: #333;
                                  border-top: 1px solid #eee;
                                "
                              >
                                TỔNG CỘNG:
                              </td>
                              <td
                                align="right"
                                style="
                                  padding: 15px 10px;
                                  font-size: 18px;
                                  font-weight: bold;
                                  color: #d35400;
                                  border-top: 1px solid #eee;
                                "
                              >
                                {{ "{:,.0f}".format(total_amount) }} đ
                              </td>
                            </tr>
                          </tbody>
                        </table>

                        <div
                          style="
                            margin-top: 30px;
                            background: #f9f9f9;
                            padding: 15px;
                            border-radius: 5px;
                          "
                        >
                          <h3
                            style="
                              font-size: 14px;
                              margin: 0 0 5px 0;
                              text-transform: uppercase;
                              color: #777;
                            "
                          >
                            Địa chỉ giao hàng
                          </h3>
                          <p style="margin: 0; font-size: 14px; color: #333">
                            <strong>{{ full_name }}</strong><br />
                            {{ shipping_address }}
                          </p>
                        </div>

                        <div class="align-center">
                          <a
                            href="https://yourwebsite.com/account/orders/{{ order_number }}"
                            class="btn"
                            >Xem chi tiết đơn hàng</a
                          >
                        </div>
                      </td>
                    </tr>
                  </table>
                </td>
              </tr>
            </table>

            <div class="footer">
              <table
                role="presentation"
                border="0"
                cellpadding="0"
                cellspacing="0"
              >
                <tr>
                  <td class="content-block">
                    <span class="apple-link"
                      >Đây là email tự động, vui lòng không trả lời email
                      này.</span
                    >
                    <br />
                    Nếu cần hỗ trợ, vui lòng liên hệ
                    <a href="mailto:support@example.com">support@example.com</a
                    >.
                  </td>
                </tr>
              </table>
            </div>
          </div>
        </td>
        <td>&nbsp;</td>
      </tr>
    </table>
  </body>
</html>
